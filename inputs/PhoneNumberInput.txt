import { PatternFormat } from "react-number-format";

interface PhoneNumberInputProps {
  label?: string;
  name: string;
  value: string;
  onChange: (e: React.ChangeEvent<HTMLInputElement>) => void;
  placeholder?: string;
}

/* 
    PARA USAR E SO CHAMAR ASSIM
    
    instalar dependencia
   -- npm install react-number-format
    
    <PhoneNumberInput
    label="Telefone"
    name="telefone"
    value={formData.telefone}
    onChange={handleInputChange}
    placeholder="(00) 00000-0000"
  />

  função auxiliar   
  
    const handleInputChange = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {
    const { name, value } = e.target;
    setFormData(prev => ({
      ...prev,
      [name]: value
    }));
  };


*/


export default function PhoneNumberInput({
  label,
  name,
  value,
  onChange,
  placeholder
}: PhoneNumberInputProps) {
  return (
    <div className="w-full">
      {label && (
        <label className="block text-sm font-medium text-gray-700 mb-2">
          {label}
        </label>
      )}

      <PatternFormat
        format="+55 (##) #####-####"
        allowEmptyFormatting
        mask="_"
        type="tel"
        value={value}
        placeholder={placeholder || "Telefone"}
        className="
          w-full
          text-black
          px-3
          py-2
          h-[50px]
          text-base
          border border-gray-300
          rounded-md
          focus:outline-none
          focus:ring-2
          focus:ring-blue-500
          focus:border-transparent
        "
        onValueChange={(v) =>
          onChange({
            target: { name, value: v.value },
          } as any)
        }
      />
    </div>
  );
}
